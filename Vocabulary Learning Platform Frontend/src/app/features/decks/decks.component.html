<div class="container">
  <!-- Header -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <div>
      <h2 class="fw-bold mb-1">Your Decks</h2>
      <p class="text-muted mb-0">
        Organize and manage your vocabulary decks
      </p>
    </div>

    <button
      class="btn btn-primary fw-semibold"
      (click)="toggleForm()">
      âž• New Deck
    </button>
  </div>

  <!-- Create Deck Form -->
  <div *ngIf="showForm" class="card shadow-sm border-0 mb-4">
    <div class="card-body">
      <h5 class="fw-bold mb-3">Create New Deck</h5>

      <form [formGroup]="deckForm" (ngSubmit)="createDeck()">
        <div class="row g-3">
          <div class="col-md-6">
            <label class="form-label">Deck Title</label>
            <input
              class="form-control"
              formControlName="title"
              placeholder="e.g. IELTS Vocabulary"
            />
          </div>

          <div class="col-md-6">
            <label class="form-label">Category</label>
            <input
              class="form-control"
              formControlName="category"
              placeholder="e.g. English, Exams"
            />
          </div>

          <div class="col-12">
            <label class="form-label">Description</label>
            <textarea
              class="form-control"
              rows="3"
              formControlName="description"
              placeholder="Short description of this deck">
            </textarea>
          </div>

          <div class="col-12 d-flex gap-2">
            <button
              type="submit"
              class="btn btn-success fw-semibold"
              [disabled]="deckForm.invalid">
              Create Deck
            </button>

            <button
              type="button"
              class="btn btn-outline-secondary"
              (click)="toggleForm()">
              Cancel
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>

  <!-- Decks Grid -->
  <div class="row g-3">
    <div class="col-md-6 col-lg-4" *ngFor="let deck of decks">
      <div class="card shadow-sm border-0 h-100">
        <div class="card-body d-flex flex-column">
          <h5 class="fw-bold mb-1">{{ deck.title }}</h5>

          <small class="text-muted mb-2">
            {{ deck.category || 'Uncategorized' }}
          </small>

          <p class="text-muted flex-grow-1">
            {{ deck.description || 'No description provided.' }}
          </p>

          <!-- Words count -->
          <span
            *ngIf="deck.wordsCount !== undefined"
            class="badge bg-primary mb-3 align-self-start">
            ðŸ“˜ {{ deck.wordsCount }} Words
          </span>

          <!-- Actions -->
          <div class="d-flex gap-2 mt-auto">
            <button
              class="btn btn-outline-primary btn-sm w-100"
              (click)="openDeck(deck.id)">
              ðŸ“– View
            </button>

            <button
              class="btn btn-outline-danger btn-sm w-100"
              (click)="deleteDeck(deck.id)">
              ðŸ—‘ Delete
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Empty State -->
  <div *ngIf="decks.length === 0" class="alert alert-info mt-4">
    ðŸ“¦ No decks yet. Create your first deck to start learning!
  </div>
</div>
